<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Portfolio Sub - GaBeen</title>
    <style>
        /* 1. Í∏∞Î≥∏ Ï¥àÍ∏∞Ìôî */
        * {
            margin: 0; padding: 0; box-sizing: border-box;
            cursor: url('images/cusor.png') 0 0, auto;
        }

        html, body {
            width: 100%; height: 100%;
            overflow: hidden;
            background-color: #A0C6F5;
        }

        /* 2. Î©îÏù∏ Ïä§ÌÅ¨Î°§ Ïª®ÌÖåÏù¥ÎÑà */
        .main-wrapper {
            display: flex;
            width: 600%; height: 100vh;
            transition: transform 0.8s cubic-bezier(0.65, 0, 0.35, 1);
            will-change: transform;
        }

        section {
            width: 100vw; height: 100vh;
            flex-shrink: 0; position: relative; overflow: hidden;
        }

        section .wrap {
            width: 1920px; height: 900px;
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
        }

        .bg-img {
            width: 100%; height: 100%;
            object-fit: cover; position: absolute; top: 0; left: 0; z-index: 0;
        }

        /* 3. Î≤ÑÌäº Î†àÏù¥ÏïÑÏõÉ */
        .sub-content {
            position: absolute; z-index: 10;
            display: flex; flex-direction: column;
            top: 575px; left: 580px;
        }
        .sub-content.type-detail-only { top: 650px; }

        /* 4. Ïï†ÎãàÎ©îÏù¥ÏÖò Ïò§Î∏åÏ†ùÌä∏ */
        .character-rabbit, .pen, .star {
            position: absolute;
            animation: floatEffect 4s ease-in-out infinite;
        }
        .character-rabbit { z-index: 7; top: 662px; left: 1632px; }
        .pen { z-index: 8; top: 182px; left: 255px; }
        .star { z-index: 99; pointer-events: none; }

        .star-l1 { top: 115px; left: 370px; }
        .star-l2 { top: 508px; left: 328px; }
        .star-l3 { top: 724px; left: 894px; }
        .star-r1 { top: 222px; left: 1728px; }
        .star-r2 { top: 344px; left: 1834px; }

        @keyframes floatEffect {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }

        .rotate-left { animation: spinL 15s linear infinite; }
        .rotate-right { animation: spinR 15s linear infinite; }

        @keyframes spinL { from { transform: rotate(0deg); } to { transform: rotate(-360deg); } }
        @keyframes spinR { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* 5. ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */
        .folder-nav {
            position: fixed; top: 85px; left: 112px;
            display: flex; flex-direction: column; gap: 0px; z-index: 150;
        }
        .folder-nav a { display: block; padding: 10px; }

        .nav-bottom-wrapper {
            position: relative; bottom: 70px; left: 132px;
            width: 100%; pointer-events: none; z-index: 100;
        }

        .portfolio-nav {
            position: absolute; display: flex; gap: 8px;
            width: max-content; margin: 0 auto; pointer-events: auto;
        }

        /* üåü Î™®Îì† Î≤ÑÌäº Î∞è Îã´Í∏∞ Î≤ÑÌäº Ìò∏Î≤Ñ Ïª§ÏÑú ÏÑ§Ï†ï */
        .btn-link:hover, .btn-detail:hover, .nav-btn-sub:hover, .folder-nav a:hover, 
        .close-btn:hover, .close-btn img:hover {
            transform: scale(1.05);
            cursor: url('images/cursor_hover.png') 0 0, pointer !important;
        }

        /* 6. ÌåùÏóÖ(Î™®Îã¨) Ïä§ÌÉÄÏùº */
        .modal-overlay {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center; align-items: center;
            z-index: 2000;
        }

        .modal-window {
            position: relative;
            width: 940px; 
            height: 85vh;
            background: white;
            border-radius: 35px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 30px 60px rgba(0,0,0,0.5);
        }

        .modal-header {
            width: 940px;
            height: 58px;
            background: url('images/modal_header_bg.png') no-repeat center top;
            background-size: contain;
            position: relative;
            flex-shrink: 0;
            margin: 0 auto;
        }

        .modal-content-area {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            padding: 0;
        }

        .modal-content-area img {
            width: 100%; 
            display: block;
        }

        .close-btn {
            position: absolute; 
            top: 15px; 
            right: 27px;
            width: 35px; 
            height: 40px;
            z-index: 2100;
            cursor: url('images/cursor_hover.png') 0 0, pointer !important;
        }

        .close-btn img {
            width: 100%;
            display: block;
            cursor: url('images/cursor_hover.png') 0 0, pointer !important;
        }
    </style>
</head>
<body>

    <div class="modal-overlay" id="detailModal">
        <div class="modal-window">
            <div class="modal-header">
                <div class="close-btn">
                    <img src="images/btn_close.png" alt="Îã´Í∏∞">
                </div>
            </div>
            <div class="modal-content-area">
                <img src="" id="modalImg" alt="ÏÉÅÏÑ∏ Ïù¥ÎØ∏ÏßÄ">
            </div>
        </div>
    </div>

    <div class="folder-nav">
        <a href="index.html"><img src="images/home.png" alt="Home"></a>
        <a href="sub.html"><img src="images/portfolio.png" alt="Portfolio"></a>
        <a href="sub2.html"><img src="images/about me.png" alt="About Me"></a>
    </div>

    <div class="main-wrapper" id="master-container">
        <script>
            // Í∞Å ÌéòÏù¥ÏßÄÎ≥Ñ Ïù¥ÎèôÌï† ÏÇ¨Ïù¥Ìä∏ ÎßÅÌÅ¨ ÏÑ§Ï†ï
            const siteLinks = {
                1: "https://gabeenlee0522.github.io/website/",
                3: "https://www.figma.com/proto/JvUkwNS6tniLUWMTLbSKXJ"
            };

            for (let i = 1; i <= 6; i++) {
                const pageNum = i < 10 ? `0${i}` : i;
                
                // 1Î≤àÍ≥º 3Î≤à ÌéòÏù¥ÏßÄÎßå ÏÇ¨Ïù¥Ìä∏ Î∞îÎ°úÍ∞ÄÍ∏∞ Î≤ÑÌäº ÏÉùÏÑ±
                let buttonHtml = "";
                if (i === 1 || i === 3) {
                    buttonHtml = `
                        <a href="${siteLinks[i]}" target="_blank" class="btn-link"><img src="images/btn_go_site.png"></a>
                        <a href="javascript:void(0);" class="btn-detail" data-page="${i}"><img src="images/btn_view_detail.png"></a>
                    `;
                } else {
                    buttonHtml = `
                        <a href="javascript:void(0);" class="btn-detail" data-page="${i}"><img src="images/btn_view_detail2.png"></a>
                    `;
                }

                document.write(`
                    <section id="page${i}">
                        <div class="wrap">
                            <img src="images/bg_sub${pageNum}.jpg" class="bg-img">
                            <div class="sub-content ${(i === 1 || i === 3) ? '' : 'type-detail-only'}">${buttonHtml}</div>
                            <div class="pen"><img src="images/subpen.png"></div>
                            <div class="character-rabbit"><img src="images/subrabbit.png"></div>
                            <div class="star star-l1"><img src="images/star1.png" class="rotate-left"></div>
                            <div class="star star-l2"><img src="images/star2.png" class="rotate-left"></div>
                            <div class="star star-l3"><img src="images/star3.png" class="rotate-left"></div>
                            <div class="star star-r1"><img src="images/star4.png" class="rotate-right"></div>
                            <div class="star star-r2"><img src="images/star5.png" class="rotate-right"></div>
                        </div>
                    </section>
                `);
            }
        </script>
    </div>

    <div class="nav-bottom-wrapper">
        <div class="portfolio-nav" id="bottom-nav">
            <a href="index.html" class="nav-btn-sub"><img src="images/btn_home.png" alt="Ìôà"></a>
            <a href="#" class="nav-btn-sub"><img src="images/btn_sub1.png" id="nav-img-1"></a>
            <a href="#" class="nav-btn-sub"><img src="images/btn_sub2.png" id="nav-img-2"></a>
            <a href="#" class="nav-btn-sub"><img src="images/btn_sub3.png" id="nav-img-3"></a>
            <a href="#" class="nav-btn-sub"><img src="images/btn_sub4.png" id="nav-img-4"></a>
            <a href="#" class="nav-btn-sub"><img src="images/btn_sub5.png" id="nav-img-5"></a>
            <a href="#" class="nav-btn-sub"><img src="images/btn_sub6.png" id="nav-img-6"></a>
        </div>
    </div>

    <script>
        let currentIdx = 0;
        const totalPages = 6;
        const masterContainer = document.getElementById('master-container');
        let isAnimating = false;

        const activeImages = ["images/btn2_sub1.png", "images/btn2_sub2.png", "images/btn2_sub3.png", "images/btn2_sub4.png", "images/btn2_sub5.png", "images/btn2_sub6.png"];
        const inactiveImages = ["images/btn_sub1.png", "images/btn_sub2.png", "images/btn_sub3.png", "images/btn_sub4.png", "images/btn_sub5.png", "images/btn_sub6.png"];

        function updateScroll() {
            isAnimating = true;
            masterContainer.style.transform = `translateX(-${currentIdx * 100}vw)`;
            for (let i = 1; i <= 6; i++) {
                const img = document.getElementById(`nav-img-${i}`);
                if (img) img.src = (i === currentIdx + 1) ? activeImages[i - 1] : inactiveImages[i - 1];
            }
            setTimeout(() => { isAnimating = false; }, 800);
        }

        window.addEventListener('wheel', (e) => {
            if (isAnimating) return;
            if (document.getElementById('detailModal').style.display === 'flex') return;
            if (e.deltaY > 0) { if (currentIdx < totalPages - 1) currentIdx++; }
            else { if (currentIdx > 0) currentIdx--; }
            updateScroll();
        }, { passive: false });

        document.querySelectorAll('.nav-btn-sub').forEach((btn, index) => {
            if (index > 0) {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    currentIdx = index - 1;
                    updateScroll();
                });
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('detailModal');
            const modalImg = document.getElementById('modalImg');
            const closeBtn = document.querySelector('.close-btn');
            document.querySelectorAll('.btn-detail').forEach(btn => {
                btn.addEventListener('click', () => {
                    const pageNum = btn.getAttribute('data-page');
                    const fileName = pageNum < 10 ? `0${pageNum}` : pageNum;
                    modalImg.src = `images/detail_${fileName}.jpg`;
                    modal.style.display = 'flex';
                });
            });
            closeBtn.addEventListener('click', () => { modal.style.display = 'none'; });
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.style.display = 'none'; });
        });
        window.onload = updateScroll;
    </script>
</body>
</html>